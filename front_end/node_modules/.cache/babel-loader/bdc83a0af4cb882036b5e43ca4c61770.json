{"ast":null,"code":"import _defineProperty from \"/Users/johnoncher/dev/mod-5/reset/overwatch_tracker/front_end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/johnoncher/dev/mod-5/reset/overwatch_tracker/front_end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/johnoncher/dev/mod-5/reset/overwatch_tracker/front_end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/johnoncher/dev/mod-5/reset/overwatch_tracker/front_end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/johnoncher/dev/mod-5/reset/overwatch_tracker/front_end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/johnoncher/dev/mod-5/reset/overwatch_tracker/front_end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/johnoncher/dev/mod-5/reset/overwatch_tracker/front_end/src/containers/Record.js\";\nimport React, { Component } from \"react\";\nimport { Form, Grid } from \"semantic-ui-react\";\nimport options from \"../public/options.js\";\nimport \"./App.css\";\n\nvar Record =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Record, _Component);\n\n  function Record() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Record);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Record)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      result: \"\",\n      new_ranking: 0,\n      hero_one: \"\",\n      hero_one_role: \"\",\n      hero_two: \"\",\n      hero_two_role: \"\",\n      party_size: 1,\n      map: \"\",\n      details: \"\",\n      user_id: localStorage.userId\n    };\n\n    _this.handleChange = function (e, _ref) {\n      var name = _ref.name,\n          value = _ref.value;\n      return _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.stopArrowKeyChange = function (e) {\n      if (e.which === 38 || e.which === 40) {\n        e.preventDefault();\n      }\n    };\n\n    _this.handleHeroOneChange = function (e, _ref2) {\n      var _this$setState2;\n\n      var name = _ref2.name,\n          value = _ref2.value;\n      return _this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, name, value[0]), _defineProperty(_this$setState2, \"hero_one_role\", value[1]), _this$setState2));\n    };\n\n    _this.handleHeroTwoChange = function (e, _ref3) {\n      var _this$setState3;\n\n      var name = _ref3.name,\n          value = _ref3.value;\n      return _this.setState((_this$setState3 = {}, _defineProperty(_this$setState3, name, value[0]), _defineProperty(_this$setState3, \"hero_two_role\", value[1]), _this$setState3));\n    };\n\n    _this.handleMapChange = function (e, _ref4) {\n      var _this$setState4;\n\n      var name = _ref4.name,\n          value = _ref4.value;\n      return _this.setState((_this$setState4 = {}, _defineProperty(_this$setState4, name, value[0]), _defineProperty(_this$setState4, \"map_type\", value[1]), _this$setState4));\n    };\n\n    _this.handleSubmit = function () {\n      fetch(\"http://localhost:3001/api/v1/games\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n          Authorization: \"Bearer \".concat(localStorage.token)\n        },\n        body: JSON.stringify(_this.state)\n      }).then(function (r) {\n        return r.json();\n      }).then(function (r) {\n        localStorage.ranking = r.game.new_ranking;\n        window.location.href = \"http://localhost:3000/history\";\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Record, [{\n    key: \"render\",\n    value: function render() {\n      console.log(this.state);\n      return React.createElement(Grid.Column, {\n        className: \"centered main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Form, {\n        autocomplete: \"off\",\n        style: {\n          opacity: \".8\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Form.Select, {\n        fluid: true,\n        label: \"Result\",\n        name: \"result\",\n        options: options.result,\n        onChange: this.handleChange,\n        placeholder: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        fluid: true,\n        type: \"number\",\n        label: \"Current Ranking\",\n        name: \"new_ranking\",\n        onChange: this.handleChange,\n        onKeyDown: this.stopArrowKeyChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(Form.Select, {\n        fluid: true,\n        label: \"Hero\",\n        name: \"hero_one\",\n        options: options.heros,\n        placeholder: \"\",\n        onChange: this.handleHeroOneChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(Form.Select, {\n        fluid: true,\n        label: \"Secondary Hero\",\n        name: \"hero_two\",\n        options: options.heros,\n        placeholder: \"\",\n        onChange: this.handleHeroTwoChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(Form.Select, {\n        fluid: true,\n        label: \"Party Size\",\n        name: \"party_size\",\n        options: options.party,\n        placeholder: \"\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Form.Select, {\n        fluid: true,\n        label: \"Map\",\n        name: \"map\",\n        options: options.maps,\n        placeholder: \"\",\n        onChange: this.handleMapChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(Form.Input, {\n        autocomplete: \"false\",\n        fluid: true,\n        label: \"Details\",\n        name: \"details\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(Form.Button, {\n        content: \"Submit\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Record;\n}(Component);\n\nexport default Record;","map":{"version":3,"sources":["/Users/johnoncher/dev/mod-5/reset/overwatch_tracker/front_end/src/containers/Record.js"],"names":["React","Component","Form","Grid","options","Record","state","result","new_ranking","hero_one","hero_one_role","hero_two","hero_two_role","party_size","map","details","user_id","localStorage","userId","handleChange","e","name","value","setState","stopArrowKeyChange","which","preventDefault","handleHeroOneChange","handleHeroTwoChange","handleMapChange","handleSubmit","fetch","method","headers","Accept","Authorization","token","body","JSON","stringify","then","r","json","ranking","game","window","location","href","console","log","opacity","heros","party","maps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Form, Grid } from \"semantic-ui-react\";\nimport options from \"../public/options.js\";\nimport \"./App.css\";\nclass Record extends Component {\n  state = {\n    result: \"\",\n    new_ranking: 0,\n    hero_one: \"\",\n    hero_one_role: \"\",\n    hero_two: \"\",\n    hero_two_role: \"\",\n    party_size: 1,\n    map: \"\",\n    details: \"\",\n    user_id: localStorage.userId\n  };\n\n  handleChange = (e, { name, value }) => this.setState({ [name]: value });\n\n  stopArrowKeyChange = e => {\n    if (e.which === 38 || e.which === 40) {\n      e.preventDefault();\n    }\n  };\n\n  handleHeroOneChange = (e, { name, value }) =>\n    this.setState({ [name]: value[0], hero_one_role: value[1] });\n\n  handleHeroTwoChange = (e, { name, value }) =>\n    this.setState({ [name]: value[0], hero_two_role: value[1] });\n\n  handleMapChange = (e, { name, value }) =>\n    this.setState({ [name]: value[0], map_type: value[1] });\n\n  handleSubmit = () => {\n    fetch(\"http://localhost:3001/api/v1/games\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${localStorage.token}`\n      },\n      body: JSON.stringify(this.state)\n    })\n      .then(r => r.json())\n      .then(r => {\n        localStorage.ranking = r.game.new_ranking;\n        window.location.href = \"http://localhost:3000/history\";\n      });\n  };\n\n  render() {\n    console.log(this.state);\n    return (\n      <Grid.Column className=\"centered main\">\n        <Form autocomplete=\"off\" style={{ opacity: \".8\" }}>\n          <Form.Select\n            fluid={true}\n            label=\"Result\"\n            name=\"result\"\n            options={options.result}\n            onChange={this.handleChange}\n            placeholder=\"\"\n          />\n          <Form.Input\n            fluid={true}\n            type=\"number\"\n            label=\"Current Ranking\"\n            name=\"new_ranking\"\n            onChange={this.handleChange}\n            onKeyDown={this.stopArrowKeyChange}\n          />\n          <Form.Select\n            fluid={true}\n            label=\"Hero\"\n            name=\"hero_one\"\n            options={options.heros}\n            placeholder=\"\"\n            onChange={this.handleHeroOneChange}\n          />\n\n          <Form.Select\n            fluid={true}\n            label=\"Secondary Hero\"\n            name=\"hero_two\"\n            options={options.heros}\n            placeholder=\"\"\n            onChange={this.handleHeroTwoChange}\n          />\n          <Form.Select\n            fluid={true}\n            label=\"Party Size\"\n            name=\"party_size\"\n            options={options.party}\n            placeholder=\"\"\n            onChange={this.handleChange}\n          />\n          <Form.Select\n            fluid={true}\n            label=\"Map\"\n            name=\"map\"\n            options={options.maps}\n            placeholder=\"\"\n            onChange={this.handleMapChange}\n          />\n          <Form.Input\n            autocomplete=\"false\"\n            fluid={true}\n            label=\"Details\"\n            name=\"details\"\n            onChange={this.handleChange}\n          />\n\n          <Form.Button content=\"Submit\" onClick={this.handleSubmit} />\n        </Form>\n      </Grid.Column>\n    );\n  }\n}\n\nexport default Record;\n"]},"metadata":{},"sourceType":"module"}